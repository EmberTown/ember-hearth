{{#if createdCommand.starting}}
    <div class="ui active inverted dimmer">
        <div class="ui text loader">Running command <code>{{createdCommand.name}} {{createdCommand.args}}</code></div>
    </div>
{{/if}}

<form class="ui equal width form">
    <div class="inline fields">
        <div class="four wide field">
            <label>{{cmd.name}}
              {{#if createdCommand.done}}
                  <i class="icon checkmark green"></i>
              {{/if}}
              {{#if createdCommand.failed}}
                  <i class="icon warning sign red"></i>
              {{/if}}
            </label>
        </div>
      {{#if cmd.anonymousOptions}}
        {{#if blueprintOptions}}
            <div class="wide field">
                <select class="ui fluid dropdown" onchange={{action (mut selectedBlueprintName) value="target.value"}}>
                  {{#each blueprintOptions as |opt|}}
                      <option value="{{opt.name}}" selected={{eq opt.name selectedBlueprintName}}>{{opt.name}}</option>
                  {{/each}}
                </select>
            </div>
          {{#each selectedBlueprint.anonymousOptions as |opt idx|}}
              <div class="wide field">
                  <input type="text"
                         placeholder="{{opt}}"
                         oninput={{action 'updateAnonymousField' idx}}>
              </div>
          {{/each}}
        {{else}}
          {{#each cmd.anonymousOptions as |opt idx|}}
              <div class="wide field">
                  <input type="text"
                         placeholder="{{opt}}"
                         oninput={{action 'updateAnonymousField' idx}}>
              </div>
          {{/each}}
        {{/if}}
      {{/if}}
    </div>

    <div class="ui horizontal list">
      {{#each cmd.availableOptions as |opt|}}
          <div class="item">
              <div class="header">{{opt.name}} {{#if opt.required}}(required){{/if}}</div>
              default {{#if opt.type}}({{opt.type}}){{/if}}: {{opt.default}}
          </div>
      {{/each}}
    </div>

    <div>
        <button class="ui button" type="submit" {{action 'runCmd'}}><i class="icon lightning"></i> Run</button>
    </div>
    <p>{{cmd.description}}{{selectedBlueprint.description}}</p>
</form>